{"ast":null,"code":"import { useState } from \"react\";\nimport axios from \"axios\"; // const useAxios = (url) => {\n//   const [dataList, setDataList] = useState([]);\n//   const addData = async () => {\n//     const resp = await axios.get(`${url}`);\n//     setDataList([...dataList, { ...resp.data, id: uuid() }]);\n//   };\n//   return [dataList, addData];\n// };\n// export default useAxios;\n\nfunction useAxios(keyInLS, baseUrl) {\n  const [responses, setResponses] = useLocalStorage(keyInLS);\n\n  const addResponseData = async (formatter = data => data, restOfUrl = \"\") => {\n    const response = await axios.get(`${baseUrl}${restOfUrl}`);\n    setResponses(data => [...data, formatter(response.data)]);\n  };\n\n  const clearResponses = () => setResponses([]);\n\n  return [responses, addResponseData, clearResponses];\n}\n\nfunction useLocalStorage(key, initialValue = []) {\n  if (localStorage.getItem(key)) {\n    initialValue = JSON.parse(localStorage.getItem(key));\n  }\n\n  const [value, setValue] = useState(initialValue);\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(value));\n  }, [value, key]);\n  return [value, setValue];\n}\n\nexport default useLocalStorage;\nexport { useAxios, useLocalStorage };","map":{"version":3,"sources":["/Users/gabriela/2021/Coding/SB/Exercises/react-cards-pokemon/src/hooks/useAxios.js"],"names":["useState","axios","useAxios","keyInLS","baseUrl","responses","setResponses","useLocalStorage","addResponseData","formatter","data","restOfUrl","response","get","clearResponses","key","initialValue","localStorage","getItem","JSON","parse","value","setValue","useEffect","setItem","stringify"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;;AAEA,SAASC,QAAT,CAAkBC,OAAlB,EAA2BC,OAA3B,EAAoC;AAChC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BC,eAAe,CAACJ,OAAD,CAAjD;;AAEA,QAAMK,eAAe,GAAG,OAAOC,SAAS,GAAGC,IAAI,IAAIA,IAA3B,EAAiCC,SAAS,GAAG,EAA7C,KAAoD;AAC1E,UAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAW,GAAET,OAAQ,GAAEO,SAAU,EAAjC,CAAvB;AACAL,IAAAA,YAAY,CAACI,IAAI,IAAI,CAAC,GAAGA,IAAJ,EAAUD,SAAS,CAACG,QAAQ,CAACF,IAAV,CAAnB,CAAT,CAAZ;AACD,GAHD;;AAKA,QAAMI,cAAc,GAAG,MAAMR,YAAY,CAAC,EAAD,CAAzC;;AAEA,SAAO,CAACD,SAAD,EAAYG,eAAZ,EAA6BM,cAA7B,CAAP;AACD;;AAED,SAASP,eAAT,CAAyBQ,GAAzB,EAA8BC,YAAY,GAAG,EAA7C,EAAiD;AAC/C,MAAIC,YAAY,CAACC,OAAb,CAAqBH,GAArB,CAAJ,EAA+B;AAC7BC,IAAAA,YAAY,GAAGG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqBH,GAArB,CAAX,CAAf;AACD;;AACD,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAACgB,YAAD,CAAlC;AAEAO,EAAAA,SAAS,CAAC,MAAM;AACdN,IAAAA,YAAY,CAACO,OAAb,CAAqBT,GAArB,EAA0BI,IAAI,CAACM,SAAL,CAAeJ,KAAf,CAA1B;AACD,GAFQ,EAEN,CAACA,KAAD,EAAQN,GAAR,CAFM,CAAT;AAIA,SAAO,CAACM,KAAD,EAAQC,QAAR,CAAP;AACD;;AAED,eAAef,eAAf;AAEA,SAASL,QAAT,EAAmBK,eAAnB","sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\n\n// const useAxios = (url) => {\n//   const [dataList, setDataList] = useState([]);\n\n//   const addData = async () => {\n//     const resp = await axios.get(`${url}`);\n//     setDataList([...dataList, { ...resp.data, id: uuid() }]);\n//   };\n\n//   return [dataList, addData];\n// };\n\n// export default useAxios;\n\nfunction useAxios(keyInLS, baseUrl) {\n    const [responses, setResponses] = useLocalStorage(keyInLS);\n  \n    const addResponseData = async (formatter = data => data, restOfUrl = \"\") => {\n      const response = await axios.get(`${baseUrl}${restOfUrl}`);\n      setResponses(data => [...data, formatter(response.data)]);\n    };\n  \n    const clearResponses = () => setResponses([]);\n  \n    return [responses, addResponseData, clearResponses];\n  }\n  \n  function useLocalStorage(key, initialValue = []) {\n    if (localStorage.getItem(key)) {\n      initialValue = JSON.parse(localStorage.getItem(key));\n    }\n    const [value, setValue] = useState(initialValue);\n  \n    useEffect(() => {\n      localStorage.setItem(key, JSON.stringify(value));\n    }, [value, key]);\n  \n    return [value, setValue];\n  }\n  \n  export default useLocalStorage;\n  \n  export { useAxios, useLocalStorage };\n\n"]},"metadata":{},"sourceType":"module"}